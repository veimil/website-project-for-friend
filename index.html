<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TeanJD</title>
    <link rel="stylesheet" href="styles-responsive.css">
    <script src="https://kit.fontawesome.com/ab80414cf6.js" crossorigin="anonymous"></script>

</head>

<body>
    <!-- navbar (outside the main grid) -->
    <header>
        <div class="logo">
            <img src="img/logotext.png" alt="teanjd logo">
        </div>
        <!-- <ul>
            <li><a href="#"><i class="fa-solid fa-bars" style="color: #d8d8d8;"></i></a></li>
        </ul> -->
    </header>

    <!-- grid with 9 columns -->
    <main>
        <!-- welcome image and arrow animation -->
        <div class="welcome">
            <div class="welcomeimg"><img src="img/welcome.png" alt="main logo image"></div>
            <div class="arrow-wrapper">
                <div class="arrow arrow1"></div>
                <div class="arrow arrow2"></div>
                <div class="arrow arrow3"></div>
            </div>
        </div>

        <!-- iso kuva ja esittelyteksti -->
        <div class="huomio">
            <div class=huomioimg>
                <img src="img/ring1.jpg" alt="ring image 1">
            </div>
            <div class="huomiotext">
                <p>Lorem ipsum dolor sit, amet consectetur adipisicing elit. Voluptates aliquam adipisci dicta animi
                    dolores sapiente asperiores cum porro veritatis voluptatibus quibusdam praesentium facere, ea
                    corrupti laboriosam quae culpa optio
                </p>
            </div>
        </div>

        <!-- sormukset -teksti -->
        <div class="parallax-container">
            <h1 class="h1-parallax">SORMUKSET</h1>
        </div>

        <!-- tuote-esittelyt -->
        <div class="cards">

            <!-- tuote 1 -->
            <div class="cardandimg">

                <div class="imageforcard">
                    <img class="zoomtranslateelement scaledownwidth1" src="img/ring3.jpg" alt="ring image 2">
                </div>

                <div class="imageforcard video zoomtranslateelement">
                    <video class="videoelement scaledownwidth2" width="400" muted playsinline loop>
                        <source src="img/sormus1.mp4" type="video/mp4">
                        Your browser does not support the video tag.
                    </video>
                </div>

                <div class="card">
                    <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. At id fugiat optio
                        qui saepe
                        consequuntur
                        recusandae minus voluptates praesentium dolorem eaque quae aut inventore corrupti accusamus
                    </p>
                </div>

            </div>


            <!-- tuote 2 -->
            <div class="cardandimg">
                <div class="imageforcard reduce-height">
                    <img class="zoomrotateelement" src="img/ring8.jpeg" alt="">
                </div>
                <div class="imageforcard video">
                    <video class="videoelement" width="300" muted playsinline loop>
                        <source src="img/gif4.mp4" type="video/mp4">
                        Your browser does not support the video tag.
                    </video>
                </div>
                <div class="card">
                    <p>Lorem ipsum dolor sit, amet consectetur adipisicing elit. Rerum ducimus nulla impedit corporis
                        expedita delectus nihil aliquid eius reprehenderit cum. Reprehenderit earum ad id, animi
                        us at dolores vel quia. Nisi!</p>
                </div>
            </div>


            <!-- tuote 3 -->
            <div class="cardandimg">
                <div class="imageforcard">
                    <img class="zoomelement" src="img/ring12.png" alt="">
                </div>
                <div class="imageforcard">
                    <img class="rotateelement scaledownwidth1" src="img/ring15.png" alt="">
                </div>
                <div class="card">
                    <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Praesentium magni in officiis ipsum quas
                        blanditiis dolorem nisi aspernatur fuga nihil similique mollitia a ut repudiandae placeat
                        reprehenderit ipsa, vero dicta. Dolorum assumenda vel aspernatur totam sunt voluptatibus saepe
                    </p>
                </div>
            </div>


            <!-- tuote 4 -->
            <div class="cardandimg">
                <div class="imageforcard">
                    <video class="videoelement" width="300" muted playsinline loop>
                        <source src="img/gif5.mp4" type="video/mp4">
                        Your browser does not support the video tag.
                    </video>
                </div>
                <div class="imageforcard reduce-height no-bottom-padding">
                    <img class="rotateelement scaledownheight2" src="img/ring16.jpg" alt="">
                </div>
                <div class="imageforcard no-top-padding">
                    <img class="zoomtranslateelement" src="img/ring11.jpg" alt="">
                </div>


            </div>



        </div>


        <!-- yhteystiedot -->
        <div class="contact">
            <div class="card kiinnostuitko">
                <h1>Kiinnostuitko?</h1>
                <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Tempora unde ea, cupiditate velit
                    excepturi
                    voluptas officia aliquam numquam sint fugiat, ratione eaque harum eius earum a doloribus. Eaque
                    voluptas facilis laboriosam.</p>

            </div>
            <div class="card yhteystiedot">
                <h1>Yhteystiedot</h1>
                <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Eveniet ab sed eius quidem quibusdam aperiam
                    recusandae pariatur illum accusantium porro.</p>

                    <ul class="socials">
                        <li><strong><a href="#">TikTok</a></strong></li>
                        <li><strong><a href="#">Pinterest</a></strong></li>
                    </ul>

            </div>
        </div>
        <!-- images at the bottom of the page -->
        <div class="imggrid">
            <img src="img/3dprint1.jpeg" alt="">
            <img src="img/ringmaking1.jpeg" alt="">
            <img src="img/3dprint2.jpeg" alt="">
        </div>

        <footer>
            <strong>
                <p>&copy; 2024 Tean JD</p>
            </strong>

        </footer>

    </main>



    <script>

        // function changeBackgroundOnScroll() {
        //     const body = document.body;

        //     if (window.scrollY > 2000) { // Change 100 to the scroll position where you want the color to change
        //         body.style.backgroundColor = 'white'; // Change to desired color
        //         body.classList.add('white-background');
        //     } else {
        //         body.style.backgroundColor = 'black'; // Initial background color
        //         body.classList.remove('white-background');
        //     }
        // }


        function header() {
            const header = document.querySelector('header');
            header.classList.toggle('scrolled', window.scrollY > 0);
        }

        function parallax() {
            const h1Parallax = document.querySelector('.h1-parallax');
            const parallaxContainer = document.querySelector('.parallax-container');
            let initialOffset = 0;
            if (window.innerWidth > 150) {
                initialOffset = -h1Parallax.offsetHeight * 0.6;
            };

            h1Parallax.style.transform = `translateY(${initialOffset}px)`;

            let scrollTop = window.pageYOffset || document.documentElement.scrollTop;

            let speed = 0.1;
            h1Parallax.style.transform = `translateY(${initialOffset + scrollTop * speed}px)`;
        }

        function zoomImages() {
            const zoomElements = document.querySelectorAll('.zoomelement');
            const maxZoom = 1.2; // Maximum scale value
            const initialScale = 0.3;
            const windowHeight = window.innerHeight;

            zoomElements.forEach(zoomElement => {
                const elementTop = zoomElement.offsetTop;
                const scrollPosition = window.scrollY;
                const elementHeight = zoomElement.offsetHeight;

                let scaleValue = initialScale;
                if (scrollPosition + windowHeight > elementTop && scrollPosition < elementTop + elementHeight) {
                    const relativeScrollPosition = scrollPosition + windowHeight - elementTop;
                    scaleValue = initialScale + (relativeScrollPosition / (elementHeight + windowHeight)) * (maxZoom - initialScale);
                }
                scaleValue = Math.min(maxZoom, Math.max(initialScale, scaleValue));

                zoomElement.style.transform = `scale(${scaleValue})`;
            });

        }


        function rotateImages() {
            const rotateElements = document.querySelectorAll('.rotateelement');
            const maxRotation = 45; // Maximum rotation angle in degrees
            const windowHeight = window.innerHeight;

            rotateElements.forEach(rotateElement => {
                const elementTop = rotateElement.offsetTop;
                const scrollPosition = window.scrollY;
                const elementHeight = rotateElement.offsetHeight;

                let rotationValue = 0; // Initial rotation value
                if (scrollPosition + windowHeight > elementTop && scrollPosition < elementTop + elementHeight) {
                    const relativeScrollPosition = scrollPosition + windowHeight - elementTop;
                    rotationValue = (relativeScrollPosition / (elementHeight + windowHeight)) * maxRotation;
                }

                rotationValue = Math.min(maxRotation, Math.max(0, rotationValue));
                rotateElement.style.transform = `rotate(${rotationValue}deg)`;
            });
        }


        function zoomAndRotateImages() {
            const elements = document.querySelectorAll('.zoomrotateelement');
            const maxZoom = 1.2; // Maximum scale value
            const initialScale = 0.3;
            const maxRotation = 89; // Maximum rotation angle in degrees
            const rotationSpeed = 0.15; // Rotation speed factor
            const windowHeight = window.innerHeight;

            elements.forEach(element => {
                const elementTop = element.offsetTop;
                const scrollPosition = window.scrollY;
                const elementHeight = element.offsetHeight;

                let scaleValue = initialScale;
                let rotationValue = 0; // Initial rotation value

                if (scrollPosition + windowHeight > elementTop && scrollPosition < elementTop + elementHeight) {
                    const relativeScrollPosition = scrollPosition + windowHeight - elementTop;
                    scaleValue = initialScale + (relativeScrollPosition / (elementHeight + windowHeight)) * (maxZoom - initialScale);

                    // Calculate the rotation value based on scroll position
                    rotationValue = relativeScrollPosition * rotationSpeed;
                }

                // Ensure the rotation value does not exceed 90 degrees
                rotationValue = Math.min(maxRotation, Math.max(0, rotationValue));
                scaleValue = Math.min(maxZoom, Math.max(initialScale, scaleValue));

                element.style.transform = `scale(${scaleValue}) rotate(${rotationValue}deg)`;
            });
        }


        function zoomAndTranslateImages() {
            const zoomTranslateElements = document.querySelectorAll('.zoomtranslateelement');
            const maxZoom = 1.2; // Maximum scale value
            const initialScale = 0.3;
            const maxTranslateY = 500; // Maximum translation value in pixels
            const initialTranslateY = 200; // Initial Y translation value in pixels
            const translateThreshold = 200; // Translation threshold value in pixels
            const windowHeight = window.innerHeight;

            zoomTranslateElements.forEach(element => {
                const elementTop = element.getBoundingClientRect().top + window.scrollY; // Get the top position of the element relative to the document
                const scrollPosition = window.scrollY;
                const elementHeight = element.offsetHeight;

                let scaleValue = initialScale;
                let translateYValue = initialTranslateY; // Start with the initial Y value

                if (scrollPosition + windowHeight > elementTop && scrollPosition < elementTop + elementHeight) {
                    const relativeScrollPosition = (scrollPosition + windowHeight - elementTop) / (elementHeight + windowHeight);
                    scaleValue = initialScale + relativeScrollPosition * (maxZoom - initialScale);

                    // Calculate translation value to move element up faster at the start
                    const translation = (1 - Math.pow(1 - relativeScrollPosition, 2)) * maxTranslateY; // Inverse quadratic function for acceleration
                    if (translation <= translateThreshold) {
                        translateYValue = initialTranslateY - translation;
                    } else {
                        translateYValue = initialTranslateY - translateThreshold;
                    }
                }

                scaleValue = Math.min(maxZoom, Math.max(initialScale, scaleValue));
                translateYValue = Math.max(initialTranslateY - maxTranslateY, translateYValue); // Ensure translateYValue does not exceed the maximum

                element.style.transform = `scale(${scaleValue}) translateY(${translateYValue}px)`;
            });
        }




        window.addEventListener('scroll', function () {
            // changeBackgroundOnScroll();
            header();
            parallax();
            zoomImages();
            rotateImages();
            zoomAndRotateImages();
            zoomAndTranslateImages();
            slowElements();
        });

        window.addEventListener('load', function () {
            header();
            parallax();
            zoomImages();
            rotateImages();
            zoomAndRotateImages();
            zoomAndTranslateImages();
            translateImages();
            slowElements();
        });

        document.addEventListener('DOMContentLoaded', function () {
            const videos = document.querySelectorAll('.videoelement');

            // Function to play the video
            const playVideo = (entries, observer) => {
                entries.forEach(entry => {
                    const video = entry.target;
                    if (entry.isIntersecting) {
                        video.play();
                    } else {
                        video.pause(); // Optional: pause the video when it leaves the viewport
                    }
                });
            };

            // Create an Intersection Observer
            const observer = new IntersectionObserver(playVideo, {
                root: null, // Use the viewport as the root
                threshold: 0.01 // Play the video when 1% of it is visible
            });

            // Observe each video element
            videos.forEach(video => {
                observer.observe(video);
            });
        });

    </script>

</body>

</html>