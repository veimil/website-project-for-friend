<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TeanJD</title>
    <link rel="stylesheet" href="styles-responsive.css">
    <script src="https://kit.fontawesome.com/ab80414cf6.js" crossorigin="anonymous"></script>

</head>

<body>
    <!-- main grid with 12 columns -->
    <main>
        <div class="headertext">
            <img src="img/logotext.png" alt="teanjd logo">
        </div>

        <!-- welcome image and arrow animation -->
        <div class="welcome">

            <div class="welcomeimg">
                <img src="img/welcome.png" alt="main logo image">
            </div>

            <div class="arrow-wrapper">
                <div class="arrow arrow1"></div>
                <div class="arrow arrow2"></div>
                <div class="arrow arrow3"></div>
            </div>

        </div>


        <!-- flex container for preview img and text -->
        <div class="preview">
            <div class=previewimg>
                <img src="img/previewimg.png" alt="ring image 1">
            </div>
            <div class="previewtext">
                <p>Lorem ipsum dolor sit, amet consectetur adipisicing elit. Voluptates aliquam adipisci dicta animi
                    dolores sapiente asperiores cum porro veritatis
                </p>
            </div>
        </div>

        <!-- sormukset -teksti -->
        <div class="parallax-container">
            <h1 class="h1-parallax">SORMUKSET</h1>
        </div>

        <!-- tuote-esittelyt -->

        <!-- osio 1 -->

        <div class="ringcontainer" id="firstring">
            <img class="zoomelement" src="img/ring3.jpg" alt="ring image 2">
        </div>

        <div class="ringcontainer video translateelement" id="secondring">
            <video class="videoelement" width="400" muted playsinline loop poster="img/videoposter1.png">
                <source src="img/sormus1.mp4" type="video/mp4">
                Your browser does not support the video tag.
            </video>
        </div>

        <div class="card" id="firstcard">
            <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. At id fugiat optio
                qui saepe
                consequuntur
                recusandae minus voluptates praesentium dolorem eaque quae aut inventore corrupti accusamus
            </p>
        </div>


        <!-- osio 2 -->

        <div class="ringcontainer" id="thirdring">
            <img class="zoomrotateelement" src="img/ring8.jpg" alt="">
        </div>
        <div class="ringcontainer video" id="fourthring">
            <video class="videoelement" width="400" muted playsinline loop poster="img/videoposter2.png">
                <source src="img/gif4.mp4" type="video/mp4">
                Your browser does not support the video tag.
            </video>
        </div>
        <div class="card" id="secondcard">
            <p>Lorem ipsum dolor sit, amet consectetur adipisicing elit. Rerum ducimus nulla impedit corporis
                expedita delectus nihil aliquid eius reprehenderit cum. Reprehenderit earum ad id, animi
                us at dolores vel quia. Nisi!</p>
        </div>


        <!-- osio 3 -->

        <div class="ringcontainer" id="fifthring">
            <img class="zoomelement" src="img/ring12.png" alt="">
        </div>
        <div class="ringcontainer" id="sixthring">
            <img class="rotateelement" src="img/ring15.png" alt="">
        </div>
        <div class="card" id="thirdcard">
            <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Praesentium magni in officiis ipsum quas
                blanditiis dolorem nisi aspernatur fuga nihil similique mollitia a ut repudiandae placeat
                reprehenderit ipsa, vero dicta. Dolorum assumenda vel aspernatur totam sunt voluptatibus saepe
            </p>
        </div>


        <!-- osio 4 -->

        <div class="ringcontainer" id="seventhring">
            <video class="videoelement" width="300" muted playsinline loop>
                <source src="img/gif5.mp4" type="video/mp4">
                Your browser does not support the video tag.
            </video>
        </div>
        <div class="ringcontainer" id="eightring">
            <img class="rotateelement" src="img/ring16.jpg" alt="">
        </div>
        <div class="ringcontainer" id="ninthring">
            <img class="translateelement" src="img/ring11.jpg" alt="">
        </div>




        <!-- yhteystiedot -->
        <div class="contact card">
            <div class="kiinnostuitko">
                <h2><strong>Kiinnostuitko?</strong></h2>
                <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Tempora unde ea, cupiditate velit
                    excepturi
                    voluptas officia aliquam numquam</p>
            </div>
            <div class="yhteystiedot">
                <h2><strong>Yhteystiedot</strong></h2>
                <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Eveniet ab sed eius quidem quibusdam aperiam
                    recusandae pariatur illum accusantium porro.</p>
            </div>
            <div class="followus">
                <h2><strong>Follow us:</strong></h2>
                <ul class="socials">
                    <li><strong><a href="#">TikTok</a></strong></li>
                    <li><strong><a href="#">Pinterest</a></strong></li>
                </ul>
            </div>
        </div>


        <!-- images at the bottom of the page -->
        <div class="imggrid">
            <img src="img/3dprint1.jpeg" alt="">
            <img src="img/ringmaking1.jpeg" alt="">
            <img src="img/3dprint2.jpeg" alt="">
        </div>


        <footer>
            <strong>
                <p>&copy; 2024 Tean JD</p>
            </strong>
            <div class="footerimage">
                <img src="img/footerimage.jpg" alt="">
            </div>
        </footer>

    </main>



    <script>


        function videoFunctionality() {
            const videos = document.querySelectorAll('.videoelement');

            // Function to play the video
            const playVideo = (entries, observer) => {
                entries.forEach(entry => {
                    const video = entry.target;
                    if (entry.isIntersecting) {
                        video.play();
                    } else {
                        video.pause(); // Optional: pause the video when it leaves the viewport
                    }
                });
            };

            // Create an Intersection Observer
            const observer = new IntersectionObserver(playVideo, {
                root: null, // Use the viewport as the root
                threshold: 0.01 // Play the video when 1% of it is visible
            });

            // Observe each video element
            videos.forEach(video => {
                observer.observe(video);
            });
        };



        // function updateMediaClasses() {
        //     const mediaElements = document.querySelectorAll('.ringcontainer img, .ringcontainer video');
        //     console.log(mediaElements);
        //     const viewportWidth = window.innerWidth;

        //     mediaElements.forEach(element => {
        //         if (viewportWidth >= 1200) {
        //             element.classList.add('large-screen');
        //             element.classList.remove('medium-screen', 'small-medium-screen');
        //         } else if (viewportWidth >= 768) {
        //             element.classList.add('medium-screen');
        //             element.classList.remove('small-medium-screen', 'large-screen');
        //         } else if (viewportWidth >= 600) {
        //             element.classList.add('small-medium-screen');
        //             element.classList.remove('large-screen', 'medium-screen');
        //         } else {
        //             element.classList.remove('large-screen', 'medium-screen', 'small-medium-screen');
        //         }
        //     });
        // }

        // function changeBackgroundOnScroll() {
        //     const body = document.body;

        //     if (window.scrollY > 2000) { // Change 100 to the scroll position where you want the color to change
        //         body.style.backgroundColor = 'white'; // Change to desired color
        //         body.classList.add('white-background');
        //     } else {
        //         body.style.backgroundColor = 'black'; // Initial background color
        //         body.classList.remove('white-background');
        //     }
        // }



        function parallax() {
            const h1Parallax = document.querySelector('.h1-parallax');
            const parallaxContainer = document.querySelector('.parallax-container');
            let initialOffset = 0;
            if (window.innerWidth > 150) {
                initialOffset = -h1Parallax.offsetHeight * 0.6;
            };

            h1Parallax.style.transform = `translateY(${initialOffset}px)`;

            let scrollTop = window.pageYOffset || document.documentElement.scrollTop;

            let speed = 0.1;
            h1Parallax.style.transform = `translateY(${initialOffset + scrollTop * speed}px)`;
        }



        function zoomElements() {
            const zoomelements = document.querySelectorAll('.zoomelement');
            const maxZoom = 1.3; // Maximum scale value
            const initialScale = 0.7;
            const windowHeight = window.innerHeight;

            zoomelements.forEach(zoomElement => {
                const elementTop = zoomElement.offsetTop;
                const scrollPosition = window.scrollY;
                const elementHeight = zoomElement.offsetHeight;

                let scaleValue = initialScale;
                if (scrollPosition + windowHeight > elementTop && scrollPosition < elementTop + elementHeight) {
                    const relativeScrollPosition = scrollPosition + windowHeight - elementTop;
                    scaleValue = initialScale + (relativeScrollPosition / (elementHeight + windowHeight)) * (maxZoom - initialScale);
                }
                scaleValue = Math.min(maxZoom, Math.max(initialScale, scaleValue));

                zoomElement.style.transform = `scale(${scaleValue})`;
            });

        }



        function zoomAndTranslateElements() {
            const zoomTranslateElements = document.querySelectorAll('.zoomtranslateelement');
            const maxZoom = 1.2; // Maximum scale value
            const initialScale = 0.5;
            const maxTranslateY = 400; // Maximum translation value in pixels
            const initialTranslateY = 200; // Initial Y translation value in pixels
            const translateThreshold = 200; // Translation threshold value in pixels
            const windowHeight = window.innerHeight;

            zoomTranslateElements.forEach(element => {
                const elementTop = element.getBoundingClientRect().top + window.scrollY; // Get the top position of the element relative to the document
                const scrollPosition = window.scrollY;
                const elementHeight = element.offsetHeight;

                let scaleValue = initialScale;
                let translateYValue = initialTranslateY; // Start with the initial Y value

                if (scrollPosition + windowHeight > elementTop && scrollPosition < elementTop + elementHeight) {
                    const relativeScrollPosition = (scrollPosition + windowHeight - elementTop) / (elementHeight + windowHeight);
                    scaleValue = initialScale + relativeScrollPosition * (maxZoom - initialScale);

                    // Calculate translation value to move element up faster at the start
                    const translation = (1 - Math.pow(1 - relativeScrollPosition, 2)) * maxTranslateY; // Inverse quadratic function for acceleration
                    if (translation <= translateThreshold) {
                        translateYValue = initialTranslateY - translation;
                    } else {
                        translateYValue = initialTranslateY - translateThreshold;
                    }
                }

                scaleValue = Math.min(maxZoom, Math.max(initialScale, scaleValue));
                translateYValue = Math.max(initialTranslateY - maxTranslateY, translateYValue); // Ensure translateYValue does not exceed the maximum

                element.style.transform = `scale(${scaleValue}) translateY(${translateYValue}px)`;
            });
        }



        function zoomAndRotateElements() {
            const elements = document.querySelectorAll('.zoomrotateelement');
            const maxZoom = 1.2; // Maximum scale value
            const initialScale = 0.3;
            const maxRotation = 360; // Maximum rotation angle in degrees
            const initialRotation = 270; // Initial rotation value in degrees
            const rotationSpeed = 0.15; // Rotation speed factor
            const windowHeight = window.innerHeight;

            elements.forEach(element => {
                const elementTop = element.offsetTop;
                const scrollPosition = window.scrollY;
                const elementHeight = element.offsetHeight;

                let scaleValue = initialScale;
                let rotationValue = initialRotation; // Start with initial rotation value

                if (scrollPosition + windowHeight > elementTop && scrollPosition < elementTop + elementHeight) {
                    const relativeScrollPosition = scrollPosition + windowHeight - elementTop;
                    scaleValue = initialScale + (relativeScrollPosition / (elementHeight + windowHeight)) * (maxZoom - initialScale);

                    // Calculate the rotation value based on scroll position, starting from initialRotation
                    rotationValue = initialRotation + relativeScrollPosition * rotationSpeed;
                }

                // Ensure the rotation value does not exceed maxRotation
                rotationValue = Math.min(maxRotation, Math.max(initialRotation, rotationValue));
                scaleValue = Math.min(maxZoom, Math.max(initialScale, scaleValue));

                element.style.transform = `scale(${scaleValue}) rotate(${rotationValue}deg)`;
            });
        }



        function rotateElements() {
            const rotateelements = document.querySelectorAll('.rotateelement');
            const maxRotation = 45; // Maximum rotation angle in degrees
            const windowHeight = window.innerHeight;

            rotateelements.forEach(rotateElement => {
                const elementTop = rotateElement.offsetTop;
                const scrollPosition = window.scrollY;
                const elementHeight = rotateElement.offsetHeight;

                let rotationValue = 0; // Initial rotation value
                if (scrollPosition + windowHeight > elementTop && scrollPosition < elementTop + elementHeight) {
                    const relativeScrollPosition = scrollPosition + windowHeight - elementTop;
                    rotationValue = (relativeScrollPosition / (elementHeight + windowHeight)) * maxRotation;
                }

                rotationValue = Math.min(maxRotation, Math.max(0, rotationValue));
                rotateElement.style.transform = `rotate(${rotationValue}deg)`;
            });
        }



        function translateElements() {
            const translateElements = document.querySelectorAll('.translateelement');
            const maxTranslateY = 100; // Maximum translation value in pixels
            const initialTranslateY = 50; // Initial Y translation value in pixels
            const windowHeight = window.innerHeight;

            translateElements.forEach(element => {
                const elementTop = element.getBoundingClientRect().top + window.scrollY; // Get the top position of the element relative to the document
                const scrollPosition = window.scrollY;
                const elementHeight = element.offsetHeight;

                let translateYValue = initialTranslateY; // Start with the initial Y value

                if (scrollPosition + windowHeight > elementTop && scrollPosition < elementTop + elementHeight) {
                    const relativeScrollPosition = (scrollPosition + windowHeight - elementTop) / (elementHeight + windowHeight);

                    // Calculate translation value with a smoother function
                    const translation = relativeScrollPosition * maxTranslateY; // Linear function for smoother translation
                    translateYValue = initialTranslateY - translation;
                }

                translateYValue = Math.max(initialTranslateY - maxTranslateY, translateYValue); // Ensure translateYValue does not exceed the maximum

                element.style.transform = `translateY(${translateYValue}px)`;
                element.style.transition = 'transform 0.3s ease-out'; // Add smooth transition
            });
        }


        // listening to scroll events for animations
        window.addEventListener('scroll', function () {
            videoFunctionality();
            parallax();
            zoomElements();
            zoomAndTranslateElements();
            zoomAndRotateElements();
            rotateElements();
            translateElements();
        });

        // initializing animations
        window.addEventListener('load', function () {
            videoFunctionality();
            parallax();
            zoomElements();
            zoomAndTranslateElements();
            zoomAndRotateElements();
            rotateElements();
            translateElements();
        });

        // window.addEventListener('resize', updateMediaClasses);


    </script>

</body>

</html>